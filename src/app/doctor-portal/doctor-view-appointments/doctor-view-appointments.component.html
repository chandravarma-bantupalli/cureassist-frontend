<!-- View Today's Appointment-->
<div class="mat-elevation-z2" *ngIf="when == 'today'">
    <div class="appointments-container" *ngIf="todayPatients.length == 0">
        <h4>Today's Appointments</h4>
        <div>
            You don't have any appointments.
        </div>
    </div>
    <div class="appointments-container" *ngIf="todayPatients.length > 1">
        <p class="title">Today's Appointments</p>
        <mat-table class="appointments" [dataSource]="todayPatients">
            <ng-container cdkColumnDef="firstName">
                <mat-header-cell *cdkHeaderCellDef>Patient</mat-header-cell>
                <mat-cell *cdkCellDef="let patient">
                    {{patient.firstName | titlecase}}&nbsp;{{patient.lastName | titlecase}}</mat-cell>
            </ng-container>
            <ng-container cdkColumnDef="phoneNumber">
                <mat-header-cell *cdkHeaderCellDef>phoneNumber</mat-header-cell>
                <mat-cell *cdkCellDef="let patient">{{patient.phoneNumber}}</mat-cell>
            </ng-container>

            <ng-container cdkColumnDef="symptoms">
                <mat-header-cell *cdkHeaderCellDef>symptoms</mat-header-cell>
                <mat-cell *cdkCellDef="let patient">{{patient.symptoms}}</mat-cell>
            </ng-container>

            <ng-container cdkColumnDef="prescription">
                <mat-header-cell *cdkHeaderCellDef>Add Prescription</mat-header-cell>
                <mat-cell *cdkCellDef="let patient">
                        <button color="primary" (click)= openPrescriptionDialog(patient.userId)>Add Prescription</button>
                </mat-cell>
            </ng-container>
           
            <mat-header-row *cdkHeaderRowDef="['doctorFirstName','doctorPhoneNumber', 'prescription']"></mat-header-row>
            <mat-row *cdkRowDef="let doctor; columns: ['doctorFirstName','doctorPhoneNumber','symptoms', 'prescription']"></mat-row>
        </mat-table>
    </div>
    <!-- <button mat-button (click)="viewallapointments()">View All Appointments</button> -->
</div>
<!-- Upcoming appointments -->
<div class="mat-elevation-z2" *ngIf="when == 'upcoming'">
    <div class="appointments-container" *ngIf="tomorrowPatients.length == 0;">
        <h4>Upcoming Appointments</h4>
        <div>
            You don't have any upcoming appointments.
        </div>
    </div>
    <div class="appointments-container" *ngIf="tomorrowPatients.length > 1">
        <p class="title">Upcoming Appointments</p>
        <mat-table class="appointments" [dataSource]="tomorrowPatients">
            <ng-container cdkColumnDef="firstName">
                <mat-header-cell *cdkHeaderCellDef>Patient</mat-header-cell>
                <mat-cell *cdkCellDef="let patient">
                    {{patient.firstName | titlecase}}&nbsp;{{patient.lastName | titlecase}}</mat-cell>
            </ng-container>
            <ng-container cdkColumnDef="phoneNumber">
                <mat-header-cell *cdkHeaderCellDef>Phone Number</mat-header-cell>
                <mat-cell *cdkCellDef="let patient">{{patient.phoneNumber}}</mat-cell>
            </ng-container>
            <ng-container cdkColumnDef="symptoms">
                    <mat-header-cell *cdkHeaderCellDef>symptoms</mat-header-cell>
                    <mat-cell *cdkCellDef="let patient">{{patient.symptoms}}</mat-cell>
                </ng-container>
            <ng-container cdkColumnDef="prescription">
                <mat-header-cell *cdkHeaderCellDef>Add Prescription</mat-header-cell>
                <mat-cell *cdkCellDef="let patient">
                        <button color="primary" (click)= openPrescriptionDialog(patient.userId)>Add Prescription</button>
                </mat-cell>
            </ng-container>
            <mat-header-row *cdkHeaderRowDef="['firstName','phoneNumber','symptoms','prescription']"></mat-header-row>
            <mat-row *cdkRowDef="let patient; columns: ['firstName','phoneNumber','symptoms','prescription']"></mat-row>
        </mat-table>
    </div>
</div>

<!--Previous Appointments-->
<div class="mat-elevation-z2" *ngIf="when == 'previous'">
        <div class="appointments-container" *ngIf="previousPatients.length == 0;">
            <h4>Previous Appointments</h4>
            <div>
                You don't have any previous appointments.
            </div>
        </div>
        <div class="appointments-container" *ngIf="previousPatients.length > 1">
            <p class="title">Previous Appointments</p>
            <mat-table class="appointments" [dataSource]="previousPatients">
                <ng-container cdkColumnDef="firstName">
                    <mat-header-cell *cdkHeaderCellDef>Patient</mat-header-cell>
                    <mat-cell *cdkCellDef="let patient">
                        {{patient.firstName | titlecase}}&nbsp;{{patient.lastName | titlecase}}</mat-cell>
                </ng-container>
                <ng-container cdkColumnDef="phoneNumber">
                    <mat-header-cell *cdkHeaderCellDef>Phone Number</mat-header-cell>
                    <mat-cell *cdkCellDef="let patient">{{patient.phoneNumber}}</mat-cell>
                </ng-container>
                <mat-header-row *cdkHeaderRowDef="['firstName','phoneNumber']"></mat-header-row>
                <mat-row *cdkRowDef="let patient; columns: ['firstName','phoneNumber']"></mat-row>
            </mat-table>
        </div>
    </div>




<!-- <div class="mat-elevation-z2" *ngIf="when == 'today'">
    <div class="appointments-container" *ngIf="todayPatients.length > 0">
        <p class="title">Today's Appointments</p>
        <table class="appointments" mat-table [dataSource]="todayPatients">
            <ng-container matColumnDef="firstName">
                <th mat-header-cell *matHeaderCellDef>Name</th>
                <td mat-cell *matCellDef="let patient">{{patient.firstName | titlecase}} {{patient.lastName | titlecase}}</td>
            </ng-container>
            <ng-container matColumnDef="phoneNumber">
                <th mat-header-cell *matHeaderCellDef>Phone Number</th>
                <td mat-cell *matCellDef="let patient">{{patient.phoneNumber}}</td>
            </ng-container>

            <ng-container matColumnDef="prescription">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let patient">
                    <button mat-flat-button color="primary" (click)= openPrescriptionDialog(patient.userId)>View Patient</button>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="patientDisplayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: patientDisplayedColumns;"></tr>
        </table>
    </div>
    <button mat-button (click)="viewAllAppointments()">View All Appointments</button>
</div>

 <div *ngIf="when == 'upcoming'"> 
    <div class="appointments-container" *ngIf="laterPatients.length == 0">
        <h4>Upcoming Appointments</h4>
        <div>
            You don't have any upcoming appointments.
        </div>
    </div>
    <div class="appointments-container" *ngIf="laterPatients.length > 0">
        <table mat-table [dataSource]="laterPatients">
            <ng-container matColumnDef="firstName">
                <th mat-header-cell *matHeaderCellDef>Name</th>
                <td mat-cell *matCellDef="let patient">{{patient.firstName}}</td>
            </ng-container>
            <ng-container matColumnDef="phoneNumber">
                <th mat-header-cell *matHeaderCellDef>Phone Number</th>
                <td mat-cell *matCellDef="let patient">{{patient.phoneNumber}}</td>
            </ng-container>
            <ng-container matColumnDef="symptoms">
                <th mat-header-cell *matHeaderCellDef>Symptoms</th>
                <td mat-cell *matCellDef="let patient">
                    {{patient.symptoms}}</td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="patientDisplayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: patientDisplayedColumns;"></tr>
        </table>
    </div>
</div> -->