<app-pharmacy-home></app-pharmacy-home>
<h2> ORDERS </h2>
<div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="center" fxLayoutGap="10px" fxLayoutGap.xs="0">
  <div class="orderList" fxFlex="50%">
      <!-- <div class="item item-4" fxFlex fxFlexOffset="50px"  fxFlexOffset.xs="0"> -->
    <mat-list>
      <mat-list-item (click)="onQuotationRequestSelected(quotationRequest)"
        *ngFor="let quotationRequest of quotationRequests">
        {{quotationRequest?.prescriptionId}}
      </mat-list-item>
    </mat-list>
  </div>
  <div class="medicineTable" fxFlex="50%">
      <!-- <div class="item item-5" fxFlex="200px"> -->
    <table mat-table [dataSource]="selectedQuotationObject?.prescribedMedicines" class="mat-elevation-z8">
      <!-- Name Column -->
      <ng-container matColumnDef="MedicineName">
        <th mat-header-cell *matHeaderCellDef> Medicine Name </th>
        <td mat-cell *matCellDef="let prescribedMedicine">
          {{prescribedMedicine.medicineName}} </td>
      </ng-container>

      <!-- Dosage Column -->
      <ng-container matColumnDef="PrescribedDosage">
        <th mat-header-cell *matHeaderCellDef> Prescribed Dosage </th>
        <td mat-cell *matCellDef="let prescribedMedicine">
          {{prescribedMedicine.prescribedDosage}} </td>
      </ng-container>

      <!-- Quantity Column -->
      <ng-container matColumnDef="Quantity">
        <th mat-header-cell *matHeaderCellDef> Quantity </th>
        <td mat-cell *matCellDef="let prescribedMedicine">
          {{prescribedMedicine.medicineQuantity}} </td>
      </ng-container>

      <!-- each medicine price -->
      <ng-container matColumnDef="MedicinePrice">
        <th mat-header-cell *matHeaderCellDef> Medicine Price </th>
        <td mat-cell *matCellDef="let prescribedMedicine">
          <input type='number' matInput (keydown.enter)=totalMedicineCost(prescribedMedicine.medicineName,$event)
            (keydown.backspace)=finalMedicineCost(prescribedMedicine.medicineName,$event)> </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <input matInput placeholder="Total Cost" [(ngModel)]="totalCost" required>
    <button mat-raised-button color="primary" (click)="pharmacyResponseMethod(totalCost)"> Confirm Order </button>
  </div>
</div>